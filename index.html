<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Feedback and Issue Reporting Form</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="container">
    <!-- Image Above the Title -->
    <img src="IMG_6155.jpg" alt="Background Image" style="width: 100%; height: auto;">

    <h2>Feedback and Issue Reporting Form</h2>

    <!-- Language Links -->
    <div class="language-switch">
        <a href="index.html">English</a> |
        <a href="index_fr.html">Français</a> |
        <a href="index_es.html">Español</a>
    </div>

    <form action="https://cts-zmg147258.replit.app/submit" method="post" enctype="multipart/form-data">
        <!-- Feedback Type -->
        <label for="feedback_type">Feedback Type:</label>
        <select id="feedback_type" name="feedback_type">
            <option value="compliment">Compliment</option>
            <option value="improvement">Leave a note for improvement</option>
        </select>

        <!-- Location -->
        <label for="location">Location:</label>
        <select id="location" name="location" onchange="updateAreas()">
            <option value="kitchen">Kitchen</option>
            <option value="first_floor">First Floor</option>
            <option value="second_floor">Second Floor</option>
            <option value="third_floor">Third Floor</option>
        </select>

        <!-- Areas -->
        <div id="areas">
            <!-- Checkboxes for areas will be inserted here by JavaScript -->
        </div>

        <!-- Urgency Level -->
        <label for="urgency">Urgency Level:</label>
        <select id="urgency" name="urgency">
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
        </select>

        <!-- Photo Upload -->
        <label for="photo">Upload a Photo (optional):</label>
        <input type="file" id="photo" name="photo" accept="image/*">

        <!-- Additional Comments -->
        <label for="comments">Additional Comments:</label>
        <textarea id="comments" name="comments" placeholder="Your comments..." style="height:100px"></textarea>

        <input type="submit" value="Submit">
    </form>
</div>

<script>
    function updateAreas() {
        var location = document.getElementById('location').value;
        var areasDiv = document.getElementById('areas');
        areasDiv.innerHTML = ''; // Clear current checkboxes

        var areas = {
            'kitchen': ['counter', 'sink', 'dishracks', 'stovetop', 'floor'],
            'first_floor': ['common_space', 'dinner_table', 'bathroom', 'backyard', 'trash_full', 'recycling_full'],
            'second_floor': ['common_space', 'bathroom', 'balconey'],
            'third_floor': ['common_space', 'bathroom', 'balconey'],
        };

        var currentAreas = areas[location] || [];
        currentAreas.forEach(function(area) {
            var label = document.createElement('label');
            var checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.name = 'area[]';
            checkbox.value = area;
            label.appendChild(checkbox);
            label.appendChild(document.createTextNode(area.replace(/_/g, ' '))); // Replace underscores with spaces for readability
            areasDiv.appendChild(label);
            areasDiv.appendChild(document.createElement('br')); // Line break for each checkbox
        });
    }

    // Initialize areas on page load
    document.addEventListener('DOMContentLoaded', updateAreas);
</script>

</body>
</html>
